"use strict";function drdt_rangeSlider(){let slider=document.querySelectorAll(".range-slider"),range=document.querySelectorAll(".range-slider__range"),value=document.querySelectorAll(".range-slider__value");slider.forEach(currentSlider=>{value.forEach(currentValue=>{let val=currentValue.previousElementSibling.getAttribute("value");currentValue.innerText=val}),range.forEach(elem=>{elem.addEventListener("input",eventArgs=>{elem.nextElementSibling.innerText=eventArgs.target.value})})})}!function($){var $=jQuery,$tabl=document.querySelectorAll(".tab-menu-link"),$tab_con=document.querySelectorAll(".tab-bar-content");function droit_set_tabs(b){$tabl.forEach((function(c){c.addEventListener("click",droit_tabcontrol)}))}function droit_tabcontrol($event){$event.preventDefault();let $this=this,$target=this.getAttribute("data-content");if(!$target)return;let ur=window.location.href,urlspl=ur.split("#");urlspl[1]&&(ur=urlspl[0]),setTimeout((function(){window.location.href=ur+"#"+$target,droit_tbs_href()}),10),drdt_pro_message_remove()}function droit_tbs_href(){$(window).scrollTop(0);let ur,urlspl=window.location.href.split("#");if(urlspl){let tab=urlspl[1],$this=document.querySelector('button[data-content="'+tab+'"]');if($this||($this=document.querySelector("button[data-content]")),!$this)return;let $target=$this.getAttribute("data-content");$tab_con.forEach((function(d){d.classList.remove("active")})),$tabl.forEach((function(d){d.classList.remove("active")})),$this.classList.add("active"),document.querySelector("#"+$target).classList.add("active")}}function drdt_pro_message_add(){var $alert;$(".drdt-dark-pro-alert").addClass("show")}function drdt_pro_message_remove(){var $alert;$(".drdt-dark-pro-alert").removeClass("show")}function drdt_image_loader($id){var frame,addImgLink=document.querySelectorAll($id);addImgLink.length>0&&addImgLink.forEach((function($k,$i){$k&&($k.classList.add("rep-"+$i),$k.setAttribute("data-repindex",$i),$k.removeEventListener("dblclick",drdt_insert_media),$k.addEventListener("dblclick",drdt_insert_media))}))}function drdt_insert_media(e){var frame;if(e.preventDefault(),frame)frame.open();else{var $this=this;(frame=wp.media({title:"Choose Images",button:{text:"Use this media"},multiple:!1})).on("select",(function(){var attachment=frame.state().get("selection").first().toJSON();$this.value=attachment.url})),frame.open()}}function drdt_delete_media(e){e.preventDefault();var $this=this;return this.value="",!0}$(window).on("load",(function(){droit_set_tabs(),droit_tbs_href()})),$("form.dtdr-dark-form").on("submit",(function(ev){ev.preventDefault();let $this=$(this),$btn=$this.find("button.setting-submit"),$btnicon=$this.find("button.setting-submit > i");$.ajax({url:dtdr.ajax_url+"?action=dtsave_settings",type:"post",data:{form_data:$this.serialize(),message:"save settings data"},beforeSend:function(){$btn.html('<i class="fa fa-spinner fa-spin"></i> Saving'),$this.addClass("drdt-loading")},success:function(res){var tim=setInterval((function(){$btn.html("<i></i> Save Settings"),clearInterval(tim)}),1500);$btnicon.removeAttr("class")},error:function(res){alert("Something is wrong!!")},complete:function(){$btn.html("<i></i> Saved"),$btnicon.removeAttr("class"),$this.removeClass("drdt-loading")}})})),$(".stylebutton > .switch").on("click",(function(ev){var $this=$(this);$this.hasClass("disabeld")?drdt_pro_message_add():($(".stylebutton > .switch").each((function($n){var $in;$(this).removeClass("actived")})),$this.addClass("actived"),drdt_pro_message_remove())})),$("*[data-condition]").on("click",(function(ev){let $this=$(this),$currentValue=$this.val(),$checker=$this.data("checker"),$target=$this.data("condition");$($target).each((function(){let $self=$(this);"yes"==$currentValue?$self.toggleClass("dt-display-off"):$currentValue==$checker?$self.removeClass("dt-display-off"):$self.addClass("dt-display-off")}))})),$(".drdt-disabled").on("click",(function($ev){drdt_pro_message_add(),$ev.preventDefault()})),$(".drdt-dark-close-popup").on("click",(function($ev){drdt_pro_message_remove(),$ev.preventDefault()})),$(".option-select2").length>0&&$(".option-select2").select2(),$(".drdt-repeater")&&$(".drdt-repeater").repeater({}),drdt_image_loader(".upload-drdt-img"),$("input[data-repeater-create]").click((function(e){e.preventDefault(),drdt_image_loader(".upload-drdt-img")})),$(document).on("click",".drdt-image-upload__btn",(function(e){e.preventDefault();var $this,input=$(this).prev(),frame=wp.media({title:"Choose Image",button:{text:"Select"},multiple:!1});frame.on("select",(function(){var attachment=frame.state().get("selection").first().toJSON();input.val(attachment.url)})),frame.open()}))}(jQuery),drdt_rangeSlider(),document.querySelectorAll(".dldark-flattimepicker").flatpickr({enableTime:!0,noCalendar:!0,dateFormat:"H:i"}),function($){var $;($=jQuery)("button.next_active_license-button").on("click",(function(ev){ev.preventDefault();let $this=$(this),$btn=$this,$btnicon=$this.find("i"),$message=$this.parents(".droitdark_container").find(".droitdark-message");$.ajax({url:dtdr.ajax_url+"?action=nextactive_droitdark",type:"post",data:{key_license:$this.parents(".droitdark_container").find("#key_license").val()},beforeSend:function(){$btn.html('<i class="fa fa-spinner fa-spin"></i> Checking License'),$this.parents(".droitdark_container").addClass("drdt-loading")},success:function(response){var res=JSON.parse(response);if(0==res.success)return $message.addClass("next-danger"),$message.html(res.message),void $this.parents(".droitdark_container").removeClass("drdt-loading");$message.addClass("next-success"),$message.html(res.message);var tim=setInterval((function(){0==res.success?$btn.html("<i></i> Active License"):$btn.html("<i></i> Actived License"),window.location.reload(),clearInterval(tim)}),1500);$btnicon.removeAttr("class")},error:function(res){alert("Something is wrong!!")},complete:function(){$btn.html("<i></i> Checked"),$btnicon.removeAttr("class"),$this.parents(".droitdark_container").removeClass("drdt-loading")}})})),$(".__revoke_license").click((function(t){t.preventDefault();var n=$(this),a=n.data("keys");if(a){var o={keys:a};jQuery.ajax({data:o,type:"get",url:dtdr.ajax_url+"?action=nextinactive_droitdark",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){e.status?setTimeout((function(){window.location.reload()}),1e3):n.innerHTML="Sorry!! do not Revoke License"}})}}))}(jQuery);